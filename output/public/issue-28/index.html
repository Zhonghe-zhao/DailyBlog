<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
      
    

      <title> - Computer_Network</title>

      
          
          <link rel="alternate" type="application/rss+xml" title="RSS" href="https://Zhonghe-zhao.github.io/DailyBlog/rss.xml">
          
      

      
          <script src="https://cdnjs.cloudflare.com/ajax/libs/slideout/1.0.1/slideout.min.js"></script>
          
      

      
          <link rel="stylesheet" href="https://Zhonghe-zhao.github.io/DailyBlog/site.css">
          
      

      
      
    </head>

    <body>
        <div class="container">

            <div id="mobile-navbar" class="mobile-navbar">
              <div class="mobile-header-logo">
                <a href="https:&#x2F;&#x2F;Zhonghe-zhao.github.io&#x2F;DailyBlog&#x2F;" class="logo"></a>
              </div>
              <div class="mobile-navbar-icon icon-out">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </div>

            <nav id="mobile-menu" class="mobile-menu slideout-menu slideout-menu-left">
              <ul class="mobile-menu-list">
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;Zhonghe-zhao.github.io&#x2F;DailyBlog&#x2F;">
                            Home
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;Zhonghe-zhao.github.io&#x2F;DailyBlog&#x2F;&#x2F;tags&#x2F;top&#x2F;">
                            Top
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;Zhonghe-zhao.github.io&#x2F;DailyBlog&#x2F;&#x2F;issue-34&#x2F;">
                            About
                        </a>
                    </li>
                
                    <li class="mobile-menu-item">
                        <a href="https:&#x2F;&#x2F;Zhonghe-zhao.github.io&#x2F;DailyBlog&#x2F;&#x2F;issue-35&#x2F;">
                            Things I like
                        </a>
                    </li>
                
              </ul>
            </nav>

            <header id="header">
                <div class="logo"><a href="https:&#x2F;&#x2F;Zhonghe-zhao.github.io&#x2F;DailyBlog&#x2F;"></a></div>
                <nav class="menu">
                    <ul>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;Zhonghe-zhao.github.io&#x2F;DailyBlog&#x2F;">
                                    Home
                                </a>
                            </li>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;Zhonghe-zhao.github.io&#x2F;DailyBlog&#x2F;&#x2F;tags&#x2F;top&#x2F;">
                                    Top
                                </a>
                            </li>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;Zhonghe-zhao.github.io&#x2F;DailyBlog&#x2F;&#x2F;issue-34&#x2F;">
                                    About
                                </a>
                            </li>
                        
                            <li>
                                <a href="https:&#x2F;&#x2F;Zhonghe-zhao.github.io&#x2F;DailyBlog&#x2F;&#x2F;issue-35&#x2F;">
                                    Things I like
                                </a>
                            </li>
                        
                    </ul>
                </nav>
            </header>

            <main>
                <div class="content" id="mobile-panel">
                    


<div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content always-active">
        <nav id="TableOfContents">
            <ul>
                
                <li>
                    <a href="https://Zhonghe-zhao.github.io/DailyBlog/issue-28/#osimo-xing" class="toc-link">OSI模型</a>
                    
                </li>
                
                <li>
                    <a href="https://Zhonghe-zhao.github.io/DailyBlog/issue-28/#jian-hua-de-tcp-ipmo-xing" class="toc-link">简化的TCP&#x2F;IP模型</a>
                    
                </li>
                
                <li>
                    <a href="https://Zhonghe-zhao.github.io/DailyBlog/issue-28/#li-jie-dui-deng-chuan-shu" class="toc-link">理解对等传输</a>
                    
                    <ul>
                        
                        <li>
                            <a href="https://Zhonghe-zhao.github.io/DailyBlog/issue-28/#wen-ti-1" class="toc-link">问题1：</a>
                        </li>
                        
                        <li>
                            <a href="https://Zhonghe-zhao.github.io/DailyBlog/issue-28/#wen-ti-2" class="toc-link">问题2：</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li>
                    <a href="https://Zhonghe-zhao.github.io/DailyBlog/issue-28/#wen-ti-3" class="toc-link">问题3：</a>
                    
                </li>
                
                <li>
                    <a href="https://Zhonghe-zhao.github.io/DailyBlog/issue-28/#httpxie-yi" class="toc-link">HTTP协议</a>
                    
                    <ul>
                        
                        <li>
                            <a href="https://Zhonghe-zhao.github.io/DailyBlog/issue-28/#httpxiao-xi" class="toc-link">HTTP消息</a>
                        </li>
                        
                        <li>
                            <a href="https://Zhonghe-zhao.github.io/DailyBlog/issue-28/#wen-ti" class="toc-link">问题：</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                <li>
                    <a href="https://Zhonghe-zhao.github.io/DailyBlog/issue-28/#tcpxie-yi" class="toc-link">TCP协议</a>
                    
                    <ul>
                        
                        <li>
                            <a href="https://Zhonghe-zhao.github.io/DailyBlog/issue-28/#duan-kou-hao-de-yin-ru" class="toc-link">端口号的引入</a>
                        </li>
                        
                        <li>
                            <a href="https://Zhonghe-zhao.github.io/DailyBlog/issue-28/#wen-ti-4" class="toc-link">问题：</a>
                        </li>
                        
                    </ul>
                    
                </li>
                
            </ul>
        </nav>
    </div>
</div>


<article class="post">
    
    <header class="post__header">
        <h1 class="post__title">
            <a href="https:&#x2F;&#x2F;Zhonghe-zhao.github.io&#x2F;DailyBlog&#x2F;issue-28&#x2F;">Computer_Network</a>
        </h1>
        <div class="post__meta">
            <span class="post__time">2025-06-25</span>
            
                <span class="post__source">
                    <a href="https:&#x2F;&#x2F;github.com&#x2F;Zhonghe-zhao&#x2F;DailyBlog&#x2F;issues&#x2F;28">read the source issue</a>
                </span>
            
            
        </div>
    </header>


    <div class="post-reactions">
        
        
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
    </div>

    <div class="post-content">
      <h2 id="osimo-xing">OSI模型</h2>
<blockquote>
<p>核心： 每一层只负责特定的功能</p>
</blockquote>
<ol>
<li>物理层：</li>
</ol>
<p>传输原始比特流（0和1）</p>
<p>协议： Ethernet (IEEE 802.3)</p>
<ol start="2">
<li>数据链路层：
(交换机)
将比特流组织成数据帧，通过MAC地址在局域网内寻址</li>
</ol>
<p>错误检测（如CRC）、流量控制（如交换机）。</p>
<p>协议： Ethernet (IEEE 802.3)、Wi-Fi (IEEE 802.11) PPP（点对点协议）、VLAN（虚拟局域网）。</p>
<ol start="3">
<li>网络层：</li>
</ol>
<p>逻辑寻址（如IP地址）和路由选择（决定数据包从源到目标的路径）。</p>
<p>关键设备：路由器（Router）、三层交换机。</p>
<p>协议： IP（IPv4/IPv6）、ICMP（Ping）、OSPF、BGP（路由协议）、ARP（地址解析）。</p>
<ol start="4">
<li>传输层（Transport Layer）</li>
</ol>
<p>提供端到端（应用程序之间）的可靠或不可靠传输。</p>
<p>分段（将数据分成段）、流量控制、错误恢复（如重传）。</p>
<p>协议： TCP UDP</p>
<p>5.表示层
6.会话层</p>
<ol start="7">
<li>应用层</li>
</ol>
<p>直接为用户应用程序提供网络服务接口。</p>
<p>协议： HTTP（网页）、FTP（文件传输）、SMTP（邮件）、DNS（域名解析）、SSH（安全登录）。</p>
<h2 id="jian-hua-de-tcp-ipmo-xing">简化的TCP/IP模型</h2>
<h2 id="li-jie-dui-deng-chuan-shu">理解对等传输</h2>
<p>每一层的协议在逻辑上认为自己在直接和对端同一层通信，尽管实际数据需要经过下层封装传输。</p>
<p>也就是 协议栈中同一层的虚拟直接对话 数据在设备间经过的物理和逻辑路径。</p>
<p><strong>示例：以HTTP请求为例的双重视角</strong></p>
<p>1.主机A（192.168.1.2）访问服务器B（203.0.113.5）的网页，经过一个路由器。</p>
<p>主机A的HTTP协议 ↔ 服务器B的HTTP协议</p>
<p>逻辑上认为直接发送GET /index.html并接收200 OK响应。</p>
<ol start="2">
<li>主机A的TCP ↔ 服务器B的TCP</li>
</ol>
<p>逻辑上建立端到端连接，维护序列号和确认机制。</p>
<ol start="3">
<li>主机A的IP ↔ 服务器B的IP</li>
</ol>
<p>逻辑上认为IP包从192.168.1.2直达203.0.113.5。</p>
<ol start="4">
<li>主机A的MAC ↔ 路由器R1的MAC ↔ 服务器B的MAC</li>
</ol>
<p>逻辑上逐跳协商帧传输（每跳MAC地址变化）。</p>
<h3 id="wen-ti-1">问题1：</h3>
<p><strong>交换机转发帧时，是否破坏了数据链路层的对等性？</strong></p>
<p>交换机只短暂参与MAC层转发，最终帧仍由目标主机的数据链路层处理。</p>
<p>交换机对帧的转发依赖物理层完成信号传输</p>
<p>交换机： 它根据 MAC 地址表，接收帧 → 看目标 → 选择接口转发帧，不改帧内容，也不破坏通信逻辑。</p>
<p>所以交换机就是在链路层转发帧的智能中继器，它不参与更上层的逻辑，靠 MAC 地址表做“选择转发”。</p>
<h3 id="wen-ti-2">问题2：</h3>
<p><strong>IP提供全局逻辑寻址，MAC提供局域网物理寻址 具体是什么流程</strong></p>
<p>ip：</p>
<p>“全局”：IP地址（例如192.168.1.10或公网IP如8.8.8.8）是全球范围内唯一的，就像一个人的家庭地址（国家+城市+街道+门牌号）。无论设备在世界的哪个角落，IP地址都能唯一标识它。</p>
<p>“逻辑”：IP地址不是绑在硬件上的，而是由软件配置的。比如，你换了网卡，IP地址可以保持不变；或者你把电脑带到另一个网络，IP地址可以重新分配。这种灵活性让IP地址像一个“虚拟标签”，不依赖物理设备。</p>
<p>“寻址”：IP地址的作用是告诉数据包“最终要去哪里”。比如，你从上海寄快递到北京，IP地址就像快递单上的收件人地址，路由器会根据它决定把数据包送到哪个网络。</p>
<p>MAC：</p>
<p>“局域网”：MAC地址（例如AA:BB:CC:DD:EE:FF）只在同一个局域网（LAN，比如你家Wi-Fi网络）内有效。出了这个局域网，MAC地址就没用了，就像你家楼栋内的门牌号，只在楼里有效，出了小区就没人知道。</p>
<p>“物理”：MAC地址是网卡的硬件地址，烧录在网卡芯片里，相当于设备的“身份证号”。它直接跟硬件绑定，告诉局域网内的设备“这是谁的网卡”。</p>
<p>“寻址”：在局域网内，数据包（以太网帧）靠MAC地址找到具体的设备。比如，你家有台电脑和打印机，交换机通过MAC地址知道把数据送到电脑还是打印机。</p>
<p>为什么重要？：局域网内的设备通信很快，交换机直接用MAC地址表转发数据，不需要复杂的逻辑判断，效率很高。</p>
<h2 id="wen-ti-3">问题3：</h2>
<p>假如用我的思想就是，既然ip是唯一的，那么直接用ip通过路由器找到目标机器，既然交换机不能识别帧我们就去除MAC层？ 难道不行吗 直接对ip包传输到物理层？</p>
<p>IP地址可能重复（不同局域网可能用相同的私有IP）。MAC地址在局域网内由硬件保证唯一，适合本地寻址。</p>
<p><em>这可能就是我的思想出了问题！</em></p>
<p>IP：负责端到端的全局寻址，确保数据包从源（比如上海的电脑）到目标（比如北京的服务器）能跨网络到达。它像快递的全国调度系统，规划路线但不负责具体投递。</p>
<p>MAC：负责点到点的局域网内传输，确保数据在当前局域网内送到正确设备（比如你家电脑到路由器）。它像小区快递员，只管本地投递，不关心包裹从哪来、去哪。</p>
<h2 id="httpxie-yi">HTTP协议</h2>
<p>首先HTTP是一种应用层协议</p>
<p>其次协议约定了双方的_通信规范_ 也就是，<em>客户端和服务端</em> 遵循这套协议 也就称之为 <em>http请求 http响应</em></p>
<p>在客户端（如浏览器）和服务器之间，通过交换文本（或二进制）消息来完成资源传输</p>
<blockquote>
<p>HTTP/1.x 使用纯文本格式，便于人类阅读和调试</p>
</blockquote>
<blockquote>
<p>HTTP2 改为二进制</p>
</blockquote>
<p><strong>特点：</strong></p>
<ol>
<li>无状态(服务器不会记得之前的请求，每次的请求都是独立的)</li>
</ol>
<p>早期 HTTP/1.0：每个请求结束后断开 TCP 连接（性能极差）。</p>
<p>HTTP 本身无连接，但实际依赖 TCP 的长连接优化性能。</p>
<ol start="2">
<li>请求-响应模型（Request-Response）(主动请求，被动响应)</li>
</ol>
<p>服务器无法主动推送数据</p>
<p><strong>如何主动推送呢？</strong></p>
<p>WebSocket， 轮询（todo）</p>
<h3 id="httpxiao-xi">HTTP消息</h3>
<ol>
<li>起始行：</li>
</ol>
<ul>
<li>GET / index.html HTTP/1.1(请求行)</li>
<li>HTTP/1.1 200 ok(状态行)</li>
</ul>
<ol start="2">
<li>头部：</li>
</ol>
<p>（键值对形式）</p>
<ul>
<li>Host: example.com</li>
<li>Content-Type: text/html</li>
</ul>
<ol start="3">
<li>正文</li>
</ol>
<p>实际传输的数据</p>
<h3 id="wen-ti">问题：</h3>
<p>所以HTTP向下传递到传输层之前 传输的是文本的二进制？ 那么HTTP2的二进制又是什么意思呢？ 如果按照这样HTTP1.x不也是按照二进制传输的吗</p>
<p><strong>无论是 HTTP/1.x 还是 HTTP/2，最终在网络上传输的都是二进制数据</strong></p>
<p>但两者的关键差异在于 协议本身的组织方式，而非是否转为二进制</p>
<p><strong>HTTP1.x：</strong></p>
<p><img src="https://github.com/user-attachments/assets/64d01640-7e8a-400d-baaa-b77086866e61" alt="Image" /></p>
<p><strong>HTTP2：</strong> 以二进制帧（Frame）格式定义协议（所有消息被拆分为二进制结构）</p>
<p><img src="https://github.com/user-attachments/assets/cf3f3ea3-2076-48de-b4fb-1f2423219b38" alt="Image" /></p>
<p>就是说HTTP1.x 将文本格式转化成ASCII码传输
HTTP2 将文本格式转换成二进制帧！ 更轻量</p>
<h4 id="an-quan-xing">安全性</h4>
<p>HTTPS： 在 HTTP 和 TCP 之间加入 TLS/SSL 加密层</p>
<p><strong>TLS/SSL 又是什么？</strong></p>
<h4 id="content-type-ben-zhi-yu-zuo-yong">Content-Type：本质与作用</h4>
<p>本质：“这段二进制数据（或文本）应该如何被解析和处理？”</p>
<p>解决数据格式的歧义</p>
<h2 id="tcpxie-yi">TCP协议</h2>
<p>位于传输层的 提供 <em>可靠的 面向连接的</em> 数据传输服务</p>
<p>解决如何在_不可靠的IP网络_上实现可靠的数据传输</p>
<p>早期的应用层 直接 对接传输层 导致ip协议无法区分数据应该交付给哪个应用</p>
<h3 id="duan-kou-hao-de-yin-ru">端口号的引入</h3>
<p>IP 地址只能定位到主机，无法区分主机上哪个程序/服务在通信，如果没有端口号，数据包到达主机后，主机不知道该发给哪个程序 所以在传输层引入了端口号 <em>实现进曾间通信的隔离</em></p>
<h3 id="wen-ti-4">问题：</h3>
<p>怎么理解？</p>
<p>IP 协议处理的是独立的数据包（Packet），而应用层通常需要连续的字节流（如文件传输）</p>
<p>IP 数据包是网络中传输的基本单位</p>
<p>源/目的 IP 地址（从哪里来，到哪里去）。</p>
<p>载荷（Payload）：实际要传输的数据片段（如一个文件的一部分）。</p>
<p>头部控制信息（如 TTL、校验和）。</p>
<p><strong>核心冲突：</strong></p>
<p>IP层的“独立性”和应用层的“连续性”是天然对立的需求：</p>
<p>IP不保证顺序 → 但应用层需要顺序。</p>
<p>IP可能丢包 → 但应用层需要完整。</p>
<p>这种矛盾需要通过传输层（如TCP）解决，而不是让应用层直接处理IP包</p>
<p><strong>核心特性：</strong></p>
<ol>
<li>
<p>可靠性：</p>
</li>
<li>
<p>流量控制</p>
</li>
<li>
<p>拥塞控制</p>
</li>
<li>
<p>全双工通信</p>
</li>
</ol>

    </div>

    

    

    

    <div class="post-footer">
        
            
                <div class="post-tags">
                    
                        <a href="https://Zhonghe-zhao.github.io/DailyBlog/tags/computerscience/">#ComputerScience</a>
                    
                        <a href="https://Zhonghe-zhao.github.io/DailyBlog/tags/computernetwork/">#ComputerNetwork</a>
                    
                </div>
            
            
                <div class="post-nav">
                    
                        <a class="previous" href="https:&#x2F;&#x2F;Zhonghe-zhao.github.io&#x2F;DailyBlog&#x2F;issue-29&#x2F;">‹ 软件工程中的一些重要思想</a>
                    
                    
                        <a class="next" href="https:&#x2F;&#x2F;Zhonghe-zhao.github.io&#x2F;DailyBlog&#x2F;issue-27&#x2F;">记忆不是复读机 ›</a>
                    
                </div>
            

        

    </div>

    
    
</article>


                </div>
            </main>

            
            
        </div>

      
          <script type="text/javascript" src="https://Zhonghe-zhao.github.io/DailyBlog/even.js" ></script>
      
    </body>

</html>
