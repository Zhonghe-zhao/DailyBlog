# [电子政务微服务系统问题排查](https://github.com/Zhonghe-zhao/DailyBlog/issues/103)

这周非常闹心, 因为这周的任务让我不理解, 特别不理解

大致的任务内容是：“靶场自身携带三个场景环境 电子政务 电商 地理政务 ” 

1. 我的第一个任务首先我把电子政务的验证码功能关闭, 为什么要关闭呢？ 

靶场平台是 `qemu` 制作的 项目本身是java的微服务 我需要先拿到源码在我自己的本地机上修改 并且将构建后的可运行服务上传到公司的服务器 然后呢进行调试 因为对微服务的 服务注册发现等 不太熟悉 不太清楚认证的流程！ (这里也确实应该在后期加强学习)  在ai的帮助下 用了将近两天吧！ 在 公司服务器上 服务正常启动了也可以正常访问了！  这时我以为已经完成了 结果hh ->  我们拥有脚本 将源码等制作到qemu中也就是 制作成了一个虚拟机 然后上传到 靶场环境 最大的问题是 qemu中虽然可以启动服务 但是看不到前端页面 这也就导致调试特别困难 所以一切结果只有等到将镜像上传到平台才能看到！ 结果问题就来了！ 在服务器上可以正常运行的项目 到了 qemu上的靶场平台上就进不去了hhhh -> 我检查了镜像 因为镜像是完完全全从正常服务器上打包的然后拷贝到虚拟机中的 ！ 镜像没有问题 然后进行 docker compose up 启动镜像 正常启动 ！ 但是就是进不去 我特别疑惑 一样的镜像 一样的代码 在服务器上能跑 到 qemu中就跑不了？？？ 这个任务从周1 也一直拖到了 周5 ( 再次期间我一直认为 是我自己的问题 镜像落下了？ 还是 缺东西？ 每次尝试都需要很长时间制作镜像！ 这让我有点不耐烦了 ) 环境之前的切换花费了大量时间！ 本地的一切一切调试成功了！ 但是生产环境就是出现问题

 直到周五 也就是今天 问题突然发现了 qemu 和 redis的冲突？？

<img width="908" height="609" alt="Image" src="https://github.com/user-attachments/assets/29a1151c-b66f-4c16-a776-661c108616db" />

因为我在qemu中发现了一个 不同的地方 ！ redis的容器显示 重启！ 然后我查看了reids的日志 果然有问题 在此期间我也怀疑是否是 qemu的资源占用问题

<img width="2178" height="1053" alt="Image" src="https://github.com/user-attachments/assets/20613c70-397d-44fc-b356-52d5e2fa875c" />

大模型给出了解决办法：

<img width="519" height="518" alt="Image" src="https://github.com/user-attachments/assets/829ec745-c675-4039-bd88-9ca539fc3d03" />

<img width="480" height="282" alt="Image" src="https://github.com/user-attachments/assets/2d9ffea5-cbd0-43ba-9432-22dc62e6da3b" />

期间还遇到一个问题 把公司服务器的磁盘占满了 ---> ssh突然断连 然后 ping这台机器也ping不通 
---

这是第一个任务,  还有关联的这些场景 我产生思考,我在一下篇讲我的想法

